<html data-arp-injected="true"><head>

    <meta charset="UTF-8">
    <style>
      html {
        background: linear-gradient(
            rgba(14, 92, 219, 0.7),
            rgba(155, 101, 34, 0.7)
          ),
          url('https://thumbs.gfycat.com/ObviousLimpArgentinehornedfrog-size_restricted.gif');
        background-size: cover;
        height: 100%;
        margin: 0;
      }
    </style>
          <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  </head>
    <body>

<!-- add triggers and on-click actions  -->
<form action="/pages/create" method="GET">
<input id="address" readonly="true" value="Click for last used address" onclick="loadAddress()"></input>
<button id="create" onclick="loadCreate()">Create wallet</button>
</form>
<form action="/pages/addkey" method="POST">
<input id="newkey" name="newkey" value="Enter wallet private key here" maxlength="66"></input>
<button id="addkey" onclick="loadAddkey()">Add private key</button>
</form>
<button id="reload" onclick="location.reload()" style="display:none">Unlock input</button>
<form action="/pages/balance" method="GET">
<button id="balance" onclick="loadBalance()">Check balance</button>
</form>
<form action="/pages/encrypt" method="GET">
<button id="encrypt" onclick="loadEncrypt()">Encrypt private key to JSON keystore</button>
</form>
<form action="/pages/decrypt" method="GET">
<button id="decrypt" onclick="loadDecrypt()">Decrypt JSON keystore to private key</button>
</form>
<form action="/pages/estimate" method="POST">
<input id="receiver" name="receiver" value="Enter receiver wallet address here" maxlength="42"></input>
<button id="addReceiver" onclick="loadAddReceiver()">Estimate gas costs</button>
</form>
<form action="/pages/receipt" method="POST">
<input id="txReceiver" name="txReceiver" value="Enter receiver wallet address here" maxlength="42"></input>
<input id="txValue" name="txValue" value="Enter amount to send here"></input>
<input id="txData" name="txData" value="Enter tx data (optional)"></input>
<input id="txGas" name="txGas" value="Enter gas amount"></input>
<button id="addTxReceiver" onclick="loadAddTxReceiver()">Send transaction</button>
</form>
<!-- add on-click button html changes  -->
<script>
function loadCreate() {
  document.getElementById("create").innerHTML = "Generating wallet keys, please wait...";
  setTimeout(() => {
  document.getElementById("create").innerHTML = "Create wallet";
}, 2999)
}
</script>
<script>
function loadAddkey() {
  document.getElementById("newkey").readOnly = false;
  setTimeout(() => {
  document.getElementById("addkey").disabled = true;
  document.getElementById("reload").style.display = 'block';
}, 2999)
}
</script>
<script>
function loadBalance() {
  document.getElementById("balance").innerHTML = "Fetching wallet balance, please wait...";
  setTimeout(() => {
  document.getElementById("balance").innerHTML = "Check balance";
}, 2999)
}
</script>
<script>
function loadEncrypt() {
  document.getElementById("encrypt").innerHTML = "Encrypting private key to JSON keystore, please wait...";
  setTimeout(() => {
  document.getElementById("encrypt").innerHTML = "Encrypt private key to JSON keystore";
}, 2999)
}
</script>
<script>
function loadDecrypt() {
  document.getElementById("decrypt").innerHTML = "Decrypting JSON keystore to private key, please wait...";
  setTimeout(() => {
  document.getElementById("decrypt").innerHTML = "Decrypt JSON keystore to private key";
}, 2999)
}
</script>
<script>
function loadAddReceiver() {
  document.getElementById("receiver").readOnly = false;
  setTimeout(() => {
  document.getElementById("addReceiver").disabled = true;
  document.getElementById("reload").style.display = 'block';
}, 2999)
}
</script>
<script>
function loadAddTxReceiver() {
  document.getElementById("txReceiver").readOnly = false;
  setTimeout(() => {
  document.getElementById("addTxReceiver").disabled = true;
  document.getElementById("reload").style.display = 'block';
}, 2999)
}
</script>

<!-- json-first key storage for compatibility -->
<script src='/dls/keys.json'></script>
<script>
function loadAddress() {
  fetch('./dls/keys.json')
  .then((response) => response.json())
  .then(function (json) {
      var test = JSON.stringify(json.address);
      document.getElementById("address").value = test.slice(1,43);
    });
}
</script>
</body></html>
